(this["webpackJsonpportfolio-react-martin"]=this["webpackJsonpportfolio-react-martin"]||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/fishsticks.dc41cffd.jpg"},42:function(e,t,a){e.exports=a(72)},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(24),i=a.n(l),r=a(3),s=a(4),c=a(1),u=a(6),m=a(5),d=a(7),h=a(15),p=a(8),g=a.n(p),f=a(19),b=a(16),v=a(18),E=a(14),S=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={title:"",blog_status:""},n.handleChange=n.handleChange.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"buildForm",value:function(){var e=new FormData;return e.append("portfolio_blog[title]",this.state.title),e.append("portfolio_blog[blog_status]",this.state.blog_status),e}},{key:"handleSubmit",value:function(e){var t=this;g.a.post("https://jordan.devcamp.space/portfolio/portfolio_blogs",this.buildForm(),{withCredentials:!0}).then((function(e){t.props.handleSuccessfullFormSubmission(e.data.portfolio_blog),t.setState({title:"",blog_status:""})})).catch((function(e){console.log("handleSubmit for blog error",e)})),e.preventDefault()}},{key:"handleChange",value:function(e){this.setState(Object(E.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return o.a.createElement("form",{onSubmit:this.handleSubmit,className:"blog-form-wrapper"},o.a.createElement("div",{className:"two-column"},o.a.createElement("input",{type:"text",onChange:this.handleChange,name:"title",placeholder:"Blog Title",value:this.state.title}),o.a.createElement("input",{type:"text",onChange:this.handleChange,name:"blog_status",placeholder:"Blog status",value:this.state.blog_status})),o.a.createElement("button",{className:"btn"},"Save"))}}]),a}(n.Component),C=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={portfolioItemClass:""},n}return Object(s.a)(a,[{key:"handleMouseEnter",value:function(){this.setState({portfolioItemClass:"image-blur"})}},{key:"handleMouseLeave",value:function(){this.setState({portfolioItemClass:""})}},{key:"render",value:function(){var e=this,t=this.props.item,a=(t.id,t.description),n=t.thumb_image_url,l=t.logo_url;return o.a.createElement("div",{className:"portfolio-item-wrapper",onMouseEnter:function(){return e.handleMouseEnter()},onMouseLeave:function(){return e.handleMouseLeave()}},o.a.createElement("div",{className:"portfolio-img-background "+this.state.portfolioItemClass,style:{backgroundImage:"url("+n+")"}}),o.a.createElement("div",{className:"img-text-wrapper"},o.a.createElement("div",{className:"logo-wrapper"},o.a.createElement("img",{src:l})),o.a.createElement("div",{className:"subtitle"},a)))}}]),a}(n.Component),k=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={pageTitle:"Welcome to my portfolio",isLoading:!1,data:[]},e.handleFilter=e.handleFilter.bind(Object(c.a)(e)),e}return Object(s.a)(a,[{key:"handleFilter",value:function(e){"CLEAR_FILTERS"===e?this.getPortfolioItems():this.getPortfolioItems(e)}},{key:"getPortfolioItems",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;g.a.get("https://jordan.devcamp.space/portfolio/portfolio_items").then((function(a){t?e.setState({data:a.data.portfolio_items.filter((function(e){return e.category===t}))}):e.setState({data:a.data.portfolio_items})})).catch((function(e){console.log(e)}))}},{key:"portfolioItems",value:function(){return this.state.data.map((function(e){return o.a.createElement(C,{key:e.id,item:e})}))}},{key:"componentDidMount",value:function(){this.getPortfolioItems()}},{key:"render",value:function(){var e=this;return this.state.isLoading?o.a.createElement("div",null,"Loading..."):o.a.createElement("div",{className:"homepage-wrapper"},o.a.createElement("div",{className:"filter-links"},o.a.createElement("button",{className:"btn",onClick:function(){return e.handleFilter("eCommerce")}},"eCommerce"),o.a.createElement("button",{className:"btn",onClick:function(){return e.handleFilter("Scheduling")}},"Scheduling"),o.a.createElement("button",{className:"btn",onClick:function(){return e.handleFilter("Enterprise")}},"Enterprise"),o.a.createElement("button",{className:"btn",onClick:function(){return e.handleFilter("CLEAR_FILTERS")}},"All")),o.a.createElement("div",{className:"portfolio-items-wrapper"},this.portfolioItems()))}}]),a}(n.Component),_=function(){return o.a.createElement("div",null,o.a.createElement(k,null))},O=a(21),j=a.n(O),y=function(){return o.a.createElement("div",{className:"content-page-wrapper"},o.a.createElement("div",{className:"left-column",style:{background:"url("+j.a+") no-repeat",backgroundSize:"cover",backgroundPosition:"center"}}),o.a.createElement("div",{className:"right-column"},"Maecenas faucibus mollis interdum. Integer posuere erat a ante venenatis dapibus posuere velit aliquet. Sed posuere consectetur est at lobortis. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. Aenean lacinia bibendum nulla sed consectetur. Maecenas sed diam eget risus varius blandit sit amet non magna. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Donec id elit non mi porta gravida at eget metus. Donec sed odio dui. Cras mattis consectetur purus sit amet fermentum. Etiam porta sem malesuada magna mollis euismod. Nulla vitae elit libero, a pharetra augue. Aenean eu leo quam. Pellentesque ornare sem lacinia quam venenatis vestibulum. Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit. Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Nullam quis risus eget urna mollis ornare vel eu leo. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Vestibulum id ligula porta felis euismod semper."))},N=function(){return o.a.createElement("div",null,"Contact")},I=a(38),w=a.n(I),L=a(39),D=function(e){var t=e.blogItem,a=t.id,n=(t.blog_status,t.content),l=t.title;t.featured_image_url;return o.a.createElement("div",null,o.a.createElement(h.b,{to:"/b/".concat(a)},o.a.createElement("h1",null,l)),o.a.createElement("div",null,o.a.createElement(L.a,{lines:5,ellipsis:o.a.createElement("span",null,"...",o.a.createElement(h.b,{to:"/b/".concat(a)},"Read more"))},w()(n))))},F=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={title:"",blog_status:""},n.handleChange=n.handleChange.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"buildForm",value:function(){var e=new FormData;return e.append("portfolio_blog[title]",this.state.title),e.append("portfolio_blog[blog_status]",this.state.blog_status),e}},{key:"handleSubmit",value:function(e){var t=this;g.a.post("https://jordan.devcamp.space/portfolio/portfolio_blogs",this.buildForm(),{withCredentials:!0}).then((function(e){t.props.handleSuccessfullFormSubmission(e.data.portfolio_blog),t.setState({title:"",blog_status:""})})).catch((function(e){console.log("handleSubmit for blog error",e)})),e.preventDefault()}},{key:"handleChange",value:function(e){this.setState(Object(E.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return o.a.createElement("form",{onSubmit:this.handleSubmit,className:"blog-form-wrapper"},o.a.createElement("div",{className:"two-column"},o.a.createElement("input",{type:"text",onChange:this.handleChange,name:"title",placeholder:"Blog Title",value:this.state.title}),o.a.createElement("input",{type:"text",onChange:this.handleChange,name:"blog_status",placeholder:"Blog status",value:this.state.blog_status})),o.a.createElement("button",{className:"btn"},"Save"))}}]),a}(n.Component),T=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={blogItems:[],totalCount:0,currentPage:0,isLoading:!0,blogModalIsOpen:!1},e.getBlogItems=e.getBlogItems.bind(Object(c.a)(e)),e.onScroll=e.onScroll.bind(Object(c.a)(e)),window.addEventListener("scroll",e.onScroll,!1),e.handleNewBlogClick=e.handleNewBlogClick.bind(Object(c.a)(e)),e.handleModalClose=e.handleModalClose.bind(Object(c.a)(e)),e.handleSuccessfulNewBlogSubmission=e.handleSuccessfulNewBlogSubmission.bind(Object(c.a)(e)),e.handleDeleteClick=e.handleDeleteClick.bind(Object(c.a)(e)),e}return Object(s.a)(a,[{key:"handleDeleteClick",value:function(e){var t=this;g.a.delete("https://api.devcamp.space/portfolio/portfolio_blogs/".concat(e.id),{withCredentials:!0}).then((function(a){return t.setState({blogItems:t.state.blogItems.filter((function(t){return e.id!==t.id}))}),a.data})).catch((function(e){console.log("delete blog error",e)}))}},{key:"handleSuccessfulNewBlogSubmission",value:function(e){this.setState({blogModalIsOpen:!1,blogItems:[e].concat(this.state.blogItems)})}},{key:"handleModalClose",value:function(){this.setState({blogModalIsOpen:!1})}},{key:"handleNewBlogClick",value:function(){this.setState({blogModalIsOpen:!0})}},{key:"onScroll",value:function(){this.state.isLoading||this.state.blogItems.length===this.state.totalCount||window.innerHeight+document.documentElement.scrollTop===document.documentElement.offsetHeight&&this.getBlogItems()}},{key:"getBlogItems",value:function(){var e=this;this.setState({currentPage:this.state.currentPage+1}),g.a.get("https://jordan.devcamp.space/portfolio/portfolio_blogs?page=".concat(this.state.currentPage),{withCredentials:!0}).then((function(t){console.log("gettting",t.data),e.setState({blogItems:e.state.blogItems.concat(t.data.portfolio_blogs),totalCount:t.data.meta.total_records,isLoading:!1})})).catch((function(e){console.log("getBlogItems error",e)}))}},{key:"componentWillMount",value:function(){this.getBlogItems()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll,!1)}},{key:"render",value:function(){var e=this,t=this.state.blogItems.map((function(t){return"LOGGED_IN"===e.props.loggedInStatus?o.a.createElement("div",{key:t.id,className:"admin-blog-wrapper"},o.a.createElement(D,{blogItem:t}),o.a.createElement("a",{onClick:function(){return e.handleDeleteClick(t)}},o.a.createElement(b.a,{icon:"trash"}))):o.a.createElement(D,{key:t.id,blogItem:t})}));return o.a.createElement("div",{className:"blog-container"},o.a.createElement(F,{handleSuccessfulNewBlogSubmission:this.handleSuccessfulNewBlogSubmission,handleModalClose:this.handleModalClose,modalIsOpen:this.state.blogModalIsOpen}),"LOGGED_IN"===this.props.loggedInStatus?o.a.createElement("div",{className:"new-blog-link"},o.a.createElement("a",{onClick:this.handleNewBlogClick},o.a.createElement(b.a,{icon:"plus-circle"}))):null,o.a.createElement("div",{className:"content-container"},t),this.state.isLoading?o.a.createElement("div",{className:"content-loader"},o.a.createElement(b.a,{icon:"spinner",spin:!0})):null)}}]),a}(n.Component),M=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={currentId:n.props.match.params.slug,blogItem:{}},n}return Object(s.a)(a,[{key:"getBlogItem",value:function(){var e=this;g.a.get("https://jordan.devcamp.space/portfolio/portfolio_blogs/".concat(this.state.currentId)).then((function(t){e.setState({blogItem:t.data.portfolio_blog})})).catch((function(e){console.log("getBlogItem error",e)}))}},{key:"componentDidMount",value:function(){this.getBlogItem()}},{key:"render",value:function(){var e=this.state.blogItem,t=e.title,a=e.content,n=e.featured_image_url;e.blog_status;return o.a.createElement("div",{className:"blog-container"},o.a.createElement("div",{className:"content-container"},o.a.createElement("h1",null,t),o.a.createElement("div",{className:"featured-image-wrapper"},o.a.createElement("img",{src:n})),o.a.createElement("div",{className:"content"},a)))}}]),a}(n.Component),B=a(41),A=function(e){var t=e.data.map((function(t){return o.a.createElement("div",{key:t.id,className:"portfolio-item-thumb"},o.a.createElement("div",{className:"portfolio-thumb-img"},o.a.createElement("img",{src:t.thumb_image_url})),o.a.createElement("div",{className:"text-content"},o.a.createElement("div",{className:"title"},t.name),o.a.createElement("div",{className:"actions"},o.a.createElement("a",{className:"action-icon",onClick:function(){return e.handleEditClick(t)}},o.a.createElement(b.a,{icon:"edit"})),o.a.createElement("a",{className:"action-icon",onClick:function(){return e.handleDeleteClick(t)}},o.a.createElement(b.a,{icon:"trash"})))))}));return o.a.createElement("div",{className:"portfolio-sidebar-list-wrapper"},t)},P=a(22),G=a.n(P),R=(a(69),a(70),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={name:"",description:"",category:"eCommerce",position:"",url:"",thumb_image:"",banner_image:"",logo:"",editMode:!1,apiUrl:"https://jordan.devcamp.space/portfolio/portfolio_items",apiAction:"post"},n.handleChange=n.handleChange.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n.componentConfig=n.componentConfig.bind(Object(c.a)(n)),n.djsConfig=n.djsConfig.bind(Object(c.a)(n)),n.handleThumbDrop=n.handleThumbDrop.bind(Object(c.a)(n)),n.handleBannerDrop=n.handleBannerDrop.bind(Object(c.a)(n)),n.handleLogoDrop=n.handleLogoDrop.bind(Object(c.a)(n)),n.deleteImage=n.deleteImage.bind(Object(c.a)(n)),n.thumbRef=o.a.createRef(),n.bannerRef=o.a.createRef(),n.logoRef=o.a.createRef(),n}return Object(s.a)(a,[{key:"deleteImage",value:function(e){var t=this;g.a.delete("https://api.devcamp.space/portfolio/delete-portfolio-image/".concat(this.state.id,"?image_type=").concat(e),{withCredentials:!0}).then((function(a){t.setState(Object(E.a)({},"".concat(e,"_url"),""))})).catch((function(e){console.log("deleteImage error",e)}))}},{key:"componentDidUpdate",value:function(){if(Object.keys(this.props.portfolioToEdit).length>0){var e=this.props.portfolioToEdit,t=e.id,a=e.name,n=e.description,o=e.category,l=e.position,i=e.url,r=e.thumb_image_url,s=e.banner_image_url,c=e.logo_url;this.props.clearPortfolioToEdit(),this.setState({id:t,name:a||"",description:n||"",category:o||"eCommerce",position:l||"",url:i||"",editMode:!0,apiUrl:"https://jordan.devcamp.space/portfolio/portfolio_items/".concat(t),apiAction:"patch",thumb_image_url:r||"",banner_image_url:s||"",logo_url:c||""})}}},{key:"handleThumbDrop",value:function(){var e=this;return{addedfile:function(t){return e.setState({thumb_image:t})}}}},{key:"handleBannerDrop",value:function(){var e=this;return{addedfile:function(t){return e.setState({banner_image:t})}}}},{key:"handleLogoDrop",value:function(){var e=this;return{addedfile:function(t){return e.setState({logo:t})}}}},{key:"componentConfig",value:function(){return{iconFiletypes:[".jpg",".png"],showFiletypeIcon:!0,postUrl:"https://httpbin.org/post"}}},{key:"djsConfig",value:function(){return{addRemoveLinks:!0,maxFiles:1}}},{key:"buildForm",value:function(){var e=new FormData;return e.append("portfolio_item[name]",this.state.name),e.append("portfolio_item[description]",this.state.description),e.append("portfolio_item[url]",this.state.url),e.append("portfolio_item[category]",this.state.category),e.append("portfolio_item[position]",this.state.position),this.state.thumb_image&&e.append("portfolio_item[thumb_image]",this.state.thumb_image),this.state.banner_image&&e.append("portfolio_item[banner_image]",this.state.banner_image),this.state.logo&&e.append("portfolio_item[logo]",this.state.logo),e}},{key:"handleChange",value:function(e){this.setState(Object(E.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;g()({method:this.state.apiAction,url:this.state.apiUrl,data:this.buildForm(),withCredentials:!0}).then((function(e){t.state.editMode?t.props.handleEditFormSubmission():t.props.handleNewFormSubmission(e.data.portfolio_item),t.setState({name:"",description:"",category:"eCommerce",position:"",url:"",thumb_image:"",banner_image:"",logo:"",editMode:!1,apiUrl:"https://jordan.devcamp.space/portfolio/portfolio_items",apiAction:"post"}),[t.thumbRef,t.bannerRef,t.logoRef].forEach((function(e){e.current.dropzone.removeAllFiles()}))})).catch((function(e){console.log("portfolio form handleSubmit error",e)})),e.preventDefault()}},{key:"render",value:function(){var e=this;return o.a.createElement("form",{onSubmit:this.handleSubmit,className:"portfolio-form-wrapper"},o.a.createElement("div",{className:"two-column"},o.a.createElement("input",{type:"text",name:"name",placeholder:"Portfolio Item Name",value:this.state.name,onChange:this.handleChange}),o.a.createElement("input",{type:"text",name:"url",placeholder:"URL",value:this.state.url,onChange:this.handleChange})),o.a.createElement("div",{className:"two-column"},o.a.createElement("input",{type:"text",name:"position",placeholder:"Position",value:this.state.position,onChange:this.handleChange}),o.a.createElement("select",{name:"category",value:this.state.category,onChange:this.handleChange,className:"select-element"},o.a.createElement("option",{value:"eCommerce"},"eCommerce"),o.a.createElement("option",{value:"Scheduling"},"Scheduling"),o.a.createElement("option",{value:"Enterprise"},"Enterprise"))),o.a.createElement("div",{className:"one-column"},o.a.createElement("textarea",{type:"text",name:"description",placeholder:"Description",value:this.state.description,onChange:this.handleChange})),o.a.createElement("div",{className:"image-uploaders"},this.state.thumb_image_url&&this.state.editMode?o.a.createElement("div",{className:"portfolio-manager-image-wrapper"},o.a.createElement("img",{src:this.state.thumb_image_url}),o.a.createElement("div",{className:"image-removal-link"},o.a.createElement("a",{onClick:function(){return e.deleteImage("thumb_image")}},"Remove file"))):o.a.createElement(G.a,{ref:this.thumbRef,config:this.componentConfig(),djsConfig:this.djsConfig(),eventHandlers:this.handleThumbDrop()},o.a.createElement("div",{className:"dz-message"},"Thumbnail")),this.state.banner_image_url&&this.state.editMode?o.a.createElement("div",{className:"portfolio-manager-image-wrapper"},o.a.createElement("img",{src:this.state.banner_image_url}),o.a.createElement("div",{className:"image-removal-link"},o.a.createElement("a",{onClick:function(){return e.deleteImage("banner_image")}},"Remove file"))):o.a.createElement(G.a,{ref:this.bannerRef,config:this.componentConfig(),djsConfig:this.djsConfig(),eventHandlers:this.handleBannerDrop()},o.a.createElement("div",{className:"dz-message"},"Banner")),this.state.logo_url&&this.state.editMode?o.a.createElement("div",{className:"portfolio-manager-image-wrapper"},o.a.createElement("img",{src:this.state.logo_url}),o.a.createElement("div",{className:"image-removal-link"},o.a.createElement("a",{onClick:function(){return e.deleteImage("logo")}},"Remove file"))):o.a.createElement(G.a,{ref:this.logoRef,config:this.componentConfig(),djsConfig:this.djsConfig(),eventHandlers:this.handleLogoDrop()},o.a.createElement("div",{className:"dz-message"},"Logo"))),o.a.createElement("div",null,o.a.createElement("button",{className:"btn",type:"submit"},"Save")))}}]),a}(n.Component)),U=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={portfolioItems:[],portfolioToEdit:{}},e.handleNewFormSubmission=e.handleNewFormSubmission.bind(Object(c.a)(e)),e.handleEditFormSubmission=e.handleEditFormSubmission.bind(Object(c.a)(e)),e.handleFormSubmissionError=e.handleFormSubmissionError.bind(Object(c.a)(e)),e.handleDeleteClick=e.handleDeleteClick.bind(Object(c.a)(e)),e.handleEditClick=e.handleEditClick.bind(Object(c.a)(e)),e.clearPortfolioToEdit=e.clearPortfolioToEdit.bind(Object(c.a)(e)),e}return Object(s.a)(a,[{key:"clearPortfolioToEdit",value:function(){this.setState({portfolioToEdit:{}})}},{key:"handleEditClick",value:function(e){this.setState({portfolioToEdit:e})}},{key:"handleDeleteClick",value:function(e){var t=this;g.a.delete("https://api.devcamp.space/portfolio/portfolio_items/".concat(e.id),{withCredentials:!0}).then((function(a){return t.setState({portfolioItems:t.state.portfolioItems.filter((function(t){return t.id!==e.id}))}),a.data})).catch((function(e){console.log("handleDeleteClick error",e)}))}},{key:"handleEditFormSubmission",value:function(){this.getPortfolioItems()}},{key:"handleNewFormSubmission",value:function(e){this.setState({portfolioItems:[e].concat(this.state.portfolioItems)})}},{key:"handleFormSubmissionError",value:function(e){console.log("handleFormSubmissionError error",e)}},{key:"getPortfolioItems",value:function(){var e=this;g.a.get("https://jordan.devcamp.space/portfolio/portfolio_items?order_by=created_at&direction=desc",{withCredentials:!0}).then((function(t){e.setState({portfolioItems:Object(B.a)(t.data.portfolio_items)})})).catch((function(e){console.log("error in getPortfolioItems",e)}))}},{key:"componentDidMount",value:function(){this.getPortfolioItems()}},{key:"render",value:function(){return o.a.createElement("div",{className:"portfolio-manager-wrapper"},o.a.createElement("div",{className:"left-column"},o.a.createElement(R,{handleNewFormSubmission:this.handleNewFormSubmission,handleEditFormSubmission:this.handleEditFormSubmission,handleFormSubmissionError:this.handleFormSubmissionError,clearPortfolioToEdit:this.clearPortfolioToEdit,portfolioToEdit:this.state.portfolioToEdit})),o.a.createElement("div",{className:"right-column"},o.a.createElement(A,{handleDeleteClick:this.handleDeleteClick,data:this.state.portfolioItems,handleEditClick:this.handleEditClick})))}}]),a}(n.Component),x=function(e){return o.a.createElement("div",null,o.a.createElement("h2",null,"Portfolio Detail for ",e.match.params.slug))},q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={email:"",password:"",errorText:""},n.handleChange=n.handleChange.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"handleChange",value:function(e){var t;this.setState((t={},Object(E.a)(t,e.target.name,e.target.value),Object(E.a)(t,"errorText",""),t))}},{key:"handleSubmit",value:function(e){var t=this;g.a.post("https://api.devcamp.space/sessions",{client:{email:this.state.email,password:this.state.password}},{withCredentials:!0}).then((function(e){"created"===e.data.status?t.props.handleSuccessfulAuth():(t.setState({errorText:"Wrong email or password"}),t.props.handleUnsuccessfulAuth())})).catch((function(e){t.setState({errorText:"An error occurred"}),t.props.handleUnsuccessfulAuth()})),e.preventDefault()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"LOGIN TO ACCESS YOUR DASHBOARD"),o.a.createElement("div",null,this.state.errorText),o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("input",{type:"email",name:"email",placeholder:"Your email",value:this.state.email,onChange:this.handleChange}),o.a.createElement("input",{type:"password",name:"password",placeholder:"Your password",value:this.state.password,onChange:this.handleChange}),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"Login"))))}}]),a}(n.Component),z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleSuccessfulAuth=n.handleSuccessfulAuth.bind(Object(c.a)(n)),n.handleUnsuccessfulAuth=n.handleUnsuccessfulAuth.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"handleSuccessfulAuth",value:function(){this.props.handleSuccessfulLogin(),this.props.history.push("/")}},{key:"handleUnsuccessfulAuth",value:function(){this.props.handleUnsuccessfulLogin()}},{key:"render",value:function(){return o.a.createElement("div",{className:"auth-page-wrapper"},o.a.createElement("div",{className:"left-column",style:{backgroundImage:"url(".concat(j.a,")")}}),o.a.createElement("div",{className:"right-column"},o.a.createElement(q,{handleSuccessfulAuth:this.handleSuccessfulAuth,handleUnsuccessfulAuth:this.handleUnsuccessfulAuth})))}}]),a}(n.Component),H=function(){return o.a.createElement("div",null,o.a.createElement("h2",null,"We couldn't find that page"),o.a.createElement(h.b,{to:"/"},"Return to homepage"))};f.b.add(v.e,v.c,v.a,v.d,v.b);var W=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={loggedInStatus:"NOT_LOGGED_IN"},n.handleSuccessfulLogin=n.handleSuccessfulLogin.bind(Object(c.a)(n)),n.handleUnsuccessfulLogin=n.handleUnsuccessfulLogin.bind(Object(c.a)(n)),n.handleSuccessfulLogout=n.handleSuccessfulLogout.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"handleSuccessfulLogin",value:function(){this.setState({loggedInStatus:"LOGGED_IN"})}},{key:"handleUnsuccessfulLogin",value:function(){this.setState({loggedInStatus:"NOT_LOGGED_IN"})}},{key:"handleSuccessfulLogout",value:function(){this.setState({loggedInStatus:"NOT_LOGGED_IN"})}},{key:"checkLoginStatus",value:function(){var e=this;return g.a.get("https://api.devcamp.space/logged_in",{withCredentials:!0}).then((function(t){var a=t.data.logged_in,n=e.state.loggedInStatus;if(a&&"LOGGED_IN"===n)return a;a&&"NOT_LOGGED_IN"===n?e.setState({loggedInStatus:"LOGGED_IN"}):a||"LOGGED_IN"!==n||e.setState({loggedInStatus:"NOT_LOGGED_IN"})})).catch((function(e){console.log("Error",e)}))}},{key:"componentDidMount",value:function(){this.checkLoginStatus()}},{key:"authorizedPages",value:function(){return[o.a.createElement(d.a,{key:"portfolio-manager",path:"/portfolio-manager",component:U})]}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"container"},o.a.createElement(h.a,null,o.a.createElement("div",null,o.a.createElement(S,{loggedInStatus:this.state.loggedInStatus,handleSuccessfulLogout:this.handleSuccessfulLogout}),o.a.createElement(d.c,null,o.a.createElement(d.a,{exact:!0,path:"/",component:_}),o.a.createElement(d.a,{path:"/auth",render:function(t){return o.a.createElement(z,Object.assign({},t,{handleSuccessfulLogin:e.handleSuccessfulLogin,handleUnsuccessfulLogin:e.handleUnsuccessfulLogin}))}}),o.a.createElement(d.a,{path:"/about-me",component:y}),o.a.createElement(d.a,{path:"/contact",component:N}),o.a.createElement(d.a,{path:"/blog",component:T}),o.a.createElement(d.a,{path:"/b/:slug",component:M}),"LOGGED_IN"===this.state.loggedInStatus?this.authorizedPages():null,o.a.createElement(d.a,{exact:!0,path:"/portfolio/:slug",component:x}),o.a.createElement(d.a,{component:H})))))}}]),a}(n.Component);a(71);i.a.render(o.a.createElement(W,null),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.e162b334.chunk.js.map